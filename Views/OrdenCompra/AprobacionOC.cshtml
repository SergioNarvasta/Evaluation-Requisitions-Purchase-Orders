@model ProjectWeb_DRA.Models.OrdenCompra
@{
    ViewData["Title"] = " Aprobacion Orden de Compra ";
}
<head>
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<h2 class="text-center">APROBACION DE ORDEN DE COMPRA</h2> <br />
<div class="form-group d-flex flex-row">
    <form asp-controller="OrdenCompra" asp-action="Aprobar" method="post">
        <input type="text" name="cia" class="ms-2" value="@ViewBag.cia" style="width:30px;display:none" />
        <input type="text" name="suc" class="ms-2" value="@ViewBag.suc" style="width:30px;display:none"/>
        <input type="text" name="usu" class="ms-2" value="@ViewBag.usu" style="width:60px;display:none"/>
        <button type="submit" style="width:120px;height:40px" class="btn btn-primary ms-3 me-3">Aprobar</button>
    </form>
    <form asp-controller="OrdenCompra" asp-action="Rechazar" method="post">
        <input type="text" name="cia" class="ms-2" value="@ViewBag.cia" style="width:30px;display:none" />
        <input type="text" name="suc" class="ms-2" value="@ViewBag.suc" style="width:30px;display:none" />
        <input type="text" name="usu" class="ms-2" value="@ViewBag.usu" style="width:60px;display:none"/>
        <button type="submit" style="width:120px;height:40px" class="btn btn-primary ms-3 me-3">Rechazar</button>
    </form>
    <a asp-action="Index" style="width:100px;height:40px" class="btn btn-danger ms-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-square-fill" viewBox="0 0 16 16">
            <path d="M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1z" />
        </svg>
        Volver
    </a>
</div>
<div>
    <div class="col-md-4">
        <form asp-action="Editar">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <table id="Table-Main"> 
                <tbody class="m-2">
                    <!-- 1RA FILA HORIZONTAL-->
                    <tr class="mb-5">
                        <th class="col-sm-4">
                            <div class="form-group d-flex flex-row me-2">
                                <label class="me-2">Numero</label>
                                <input asp-for="Occ_numero" class="form-control form-control-sm col-sm-4" style="width:300px" type="text" />
                                <span asp-validation-for="Occ_numero" class="text-danger"></span>
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label >Fecha de registro</label>
                                <input asp-for="Occ_feccre" class="form-control ms-1 mt-1" style="width:250px;height:32px" />
                                <span asp-validation-for="Occ_feccre" class="text-danger"></span>
                            </div>
                        </th>   
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label>Emision</label>
                                <input asp-for="Occ_fecemi" class="form-control ms-1" style="width:250px;height:32px" />
                                <span asp-validation-for="Occ_fecemi" class="text-danger"></span>
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-xl-5 me-2">
                                <label class="me-2">Tipo_OC</label>
                                <input asp-for="Tco_nombre" class="form-control" style="width:245px;height:32px" type="text" />
                                <span asp-validation-for="Tco_nombre" class="text-danger"></span>
                            </div>
                        </th>
                        
                        <th>
                            <div class="d-flex flex-row ms-xl-5">
                                <label>Estado </label>
                                <select asp-for="Occ_estado" id="cbo_estado" class="ms-4" onclick="colocaEstado()" disabled>
                                    <option value="1">APROBADO</option>
                                    <option value="0">PENDIENTE</option>
                                </select>
                            </div>
                        </th>
            
                    </tr>
                    <!-- 2DA FILA HORIZONTAL-->
                    <tr>
                        <th colspan="2">
                            <div class="form-group d-flex flex-row me-2">
                                <label class="me-2">Proveedor</label>
                                <input asp-for="Ccr_codccr" class="form-control me-2" style="width:150px;height:32px" type="text" />
                                <span asp-validation-for="Ccr_codccr" class="text-danger"></span>
                                <input asp-for="Ccr_nomaux" class="form-control" style="width:525px;height:32px" type="text" />
                                <span asp-validation-for="Ccr_nomaux" class="text-danger"></span>
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label class="me-2">Moneda</label>
                                <input asp-for="Mon_desmon" class="form-control me-2" style="width:245px;height:32px" type="text" />
                                <span asp-validation-for="Mon_desmon" class="text-danger"></span>
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label class="me-4">TasaIGV</label>
                                <input asp-for="Occ_impigv" class="form-control me-2" style="width:190px;height:32px" type="text" />
                                <span asp-validation-for="Occ_impigv" class="text-danger"></span>

                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-xl-5 me-2">
                                <label class="me-3">Tipo cambio</label>
                                <input asp-for="Occ_tcaocc" class="form-control mt-1" style="width:100px;height:32px" type="text" />
                                <span asp-validation-for="Occ_tcaocc" class="text-danger"></span>
                            </div>
                        </th>
                        
                    </tr>
                    <!-- 3RA FILA HORIZONTAL-->
                    <tr style="height:50px">
                        <th colspan="2">
                            <div class="form-group d-flex flex-row me-2">
                                <label class="me-5">Glosa</label>
                                <input asp-for="Occ_observ" class="form-control me-2" style="width:680px;height:32px" type="text" />
                                <span asp-validation-for="Occ_observ" class="text-danger"></span>
                                
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label class="me-2">Condicion_Pago</label>
                                <input asp-for="Cpg_deslar" class="form-control me-2" style="width:190px;height:32px" type="text" />
                                <span asp-validation-for="Cpg_deslar" class="text-danger"></span>
                               
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label class="me-2">Detraccion</label>
                                <input asp-for="Occ_impdet" class="form-control me-2" style="width:190px;height:32px" type="text" />
                                <span asp-validation-for="Occ_impdet" class="text-danger"></span>
                               
                            </div>
                        </th>
                        <th>
                            <div class="form-group d-flex flex-row ms-5">
                                <label class="me-2">Impuesto</label>
                                <input asp-for="Imp_desimp" class="form-control me-2" style="width:120px;height:32px" type="text" />
                                <span asp-validation-for="Imp_desimp" class="text-danger"></span>

                            </div>
                        </th>
                    </tr>
                     <!-- 4TA FILA HORIZONTAL-->
                    
                    <!-- 5TA FILA CAMPOS A ENVIAR-->
                    
                </tbody>
            </table>
            <br />          
            <!-- DETALLES -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <div class="table">
                <table id="tblProductos" class="table table-bordered table-hover">
                <thead class="table-primary">
                    <tr>
                        <th>
                            <button onclick="agregarFila()" id="btn_adicionar" type="button" class="btn btn-outline-primary" style="border:0px">
                                <img src="/img/mas.png"/>
                            </button>
                        </th>
                        <th>Item</th>
                        <th>Codigo</th>
                        <th>Descripcion</th>
                        <th>Detalle</th>
                        <th>Unidad</th>
                        <th>Cantidad</th>
                        <th>Codigo Proveedor</th>
                        <th>Proveedor</th>
                        <th>Sustento</th>
                    </tr>
                        
                </thead> 
                <tbody id="tbody_prd" class="table table-bordered">
                        @await Component.InvokeAsync("DetalleCcoPrd",ViewBag.epk)
                    </tbody>                  
                </table>
            </div>
            <!-- TABLA ADJUNTOS-->
            <br />
            <p class="justify-content-center text-"><strong>DETALLE</strong></p>
            <!--<label class="me-1">Cantidad Items : </label><input id="nitems_adj" type="text" style="width:50px" />-->
            <div class="">
                <table id="tblAdjuntos" class="table table-bordered table-hover">
                <thead class="table-primary">
                    <tr>
                        <th>
                            <button onclick="agregarFilaAdj()" id="btn_adicionar_adj" type="button" class="btn btn-outline-primary" style="border:0px"><img src="/img/mas.png"/></button>
                        </th>
                        <th>Item</th>
                        <th>Nombre Archivo</th>
                        <th>Archivo</th>
                        <th>Codigo Archivo</th>
                    </tr>
                </thead>
                <tbody>
                        
                </tbody>
            </table>
                <br /><br />
            </div>
            
            <div>
                            
            </div> <br />
            <p style="color:red">View_OrdenCompra/Aprobacion </p>
        </form>
    </div>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
